import{d as c,h as W,c as S,a as t,t as b,i as d,v as f,j as V,o as B}from"./index-BKur6sUv.js";import{l as o,m as G,G as g,n as F,o as M,p as D,q as N,E as L,t as O,v as j,w as T,x as q,y as z,z as H,A as J,B as K}from"./firebase-BAKnYVcW.js";const Q=t("h1",null," Authentication ",-1),X={style:{display:"flex","justify-content":"space-around"}},Y={style:{"text-align":"center"}},Z=t("label",null," account: ",-1),ee=t("br",null,null,-1),te=t("label",null," password: ",-1),ne=t("br",null,null,-1),se=t("br",null,null,-1),oe=t("br",null,null,-1),le=t("br",null,null,-1),re=t("br",null,null,-1),ae=t("br",null,null,-1),ie=t("br",null,null,-1),ue=t("br",null,null,-1),ce=t("br",null,null,-1),de=t("br",null,null,-1),ge=t("br",null,null,-1),he=t("br",null,null,-1),ye=t("br",null,null,-1),pe=t("br",null,null,-1),fe=t("br",null,null,-1),me=t("br",null,null,-1),ve=t("br",null,null,-1),be=t("br",null,null,-1),_e=t("br",null,null,-1),we=t("br",null,null,-1),Pe=t("br",null,null,-1),xe=t("br",null,null,-1),Ae=t("br",null,null,-1),Ce=t("br",null,null,-1),Ue=t("br",null,null,-1),ke=t("br",null,null,-1),Ee=t("option",{value:"sign in"},"sign in",-1),Re=t("option",{value:"register"},"register",-1),$e=[Ee,Re],Ve={__name:"authentication",setup(Ie){const a=c("sign in"),_=W(()=>a.value==="sign in"?"signIn":"registerWithEmailAndPassword"),i=c(""),u=c(""),w=async()=>{try{const n=o(),s=(await G(n,i.value,u.value)).user;console.log("Registered user:",s)}catch(n){console.error("Registration failed:",n)}},P=async()=>{try{const n=o(),e=new g;F(n,e).then(s=>{const l=g.credentialFromResult(s).accessToken,p=s.user;console.log("Success :",l,p)}).catch(s=>{console.log("error :",s)})}catch(n){const e=n.code,s=n.message,r=n.email,l=g.credentialFromError(n);console.log("Failed :",e,s,r,l)}},x=()=>{try{const n=o(),e=new g;M(n,e)}catch(n){console.log("error :",n)}},A=()=>{try{const n=o();D(n).then(e=>{console.log("result :",e)}).catch(e=>{const s=e.code,r=e.message,l=e.email,p=e.credential;console.log("Failed :",s,r,l,p)})}catch(n){console.log("error :",n)}},m=async()=>{try{const n=o(),s=(await N(n,i.value,u.value)).user;console.log("Logged in user:",s)}catch(n){console.error("Login failed:",n)}},C=()=>{try{const e=o().currentUser;e?console.log("Authenticated user:",e):console.log("Not authenticated")}catch(n){console.error("Authentication failed:",n)}},v=async()=>{try{o().signOut(),console.log("Signed out")}catch(n){console.log("error :",n)}},h=async()=>{try{const e=o().currentUser,s=L.credential(e.email,"123456");return await O(e,s).then(()=>(console.log("Signed in again"),!0)).catch(l=>(console.log("error :",l),!1))}catch(n){console.error("Login failed:",n)}},U=async()=>{try{const e=o().currentUser;e?j(e,{displayName:"Hogan"}):console.log("Not authenticated")}catch(n){console.error("Authentication failed:",n)}},k=async()=>{try{const e=o().currentUser;await h()&&await T(e,"111111").then(()=>(console.log("Password updated successfully"),!0)).catch(l=>(console.log("Password updated error :",l),!1))&&v()}catch(n){console.error("Update failed:",n)}},E=async()=>{try{const e=o().currentUser;await h()?q(e).then(()=>{console.log("User deleted successfully")}).catch(s=>{console.log("error :",s)}):console.log("Please sign in again")}catch(n){console.error("Delete failed:",n)}},R=async()=>{try{const e=o().currentUser;z(e).then(()=>{alert("Email verification sent")}).catch(s=>{console.log("Email verification sent failed :",s)})}catch(n){console.error("Email verification sent failed:",n)}},y=c(""),$=async()=>{try{const n=o();H(n,y.value).then(()=>{alert("Password reset email sent")}).catch(e=>{console.log("Password reset email sent failed :",e)})}catch(n){console.error("Password reset email sent failed:",n)}},I=async()=>{try{const n=o();await J(n,K).then(()=>!0).catch(s=>(console.log("error :",s),!1))&&m()}catch(n){console.error("Reset sign in persistence failed:",n)}};return(n,e)=>(B(),S("div",null,[Q,t("div",X,[t("div",null,[t("h1",Y,b(a.value.toUpperCase()),1),Z,d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s)},null,512),[[f,i.value]]),ee,te,d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s)},null,512),[[f,u.value]]),ne,se,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[2]||(e[2]=s=>_.value==="signIn"?m():w())},b(a.value),1),oe,le,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[3]||(e[3]=s=>P())},"Google Way 1"),re,ae,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[4]||(e[4]=s=>x())},"Google Way 2"),ie,ue,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[5]||(e[5]=s=>A())},"Get Redirect Result"),ce,de,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[6]||(e[6]=s=>C())},"Verify Auth"),ge,he,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[7]||(e[7]=s=>v())},"Sign Out"),ye,pe,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[8]||(e[8]=s=>h())},"Sign In Again"),fe,me,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[9]||(e[9]=s=>U())},"Update Auth"),ve,be,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[10]||(e[10]=s=>k())},"Update Password"),_e,we,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[11]||(e[11]=s=>E())},"Delete User Auth"),Pe,xe,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[12]||(e[12]=s=>R())},"Verify Email"),Ae,Ce,d(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>y.value=s),type:"text",style:{display:"flex",margin:"10px auto"}},null,512),[[f,y.value]]),t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[14]||(e[14]=s=>$())},"Forget Password"),Ue,ke,t("button",{style:{display:"flex",margin:"0 auto"},onClick:e[15]||(e[15]=s=>I())},"重設維持登入方法")]),t("div",null,[d(t("select",{"onUpdate:modelValue":e[16]||(e[16]=s=>a.value=s),name:"select"},$e,512),[[V,a.value]])])])]))}};export{Ve as default};
